"use strict";(globalThis.webpackChunkt_1_c_docs=globalThis.webpackChunkt_1_c_docs||[]).push([[125],{2394:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"spikeyolo-v8-tracker/evaluation","title":"Evaluation Guide","description":"Overview","source":"@site/docs/spikeyolo-v8-tracker/evaluation.md","sourceDirName":"spikeyolo-v8-tracker","slug":"/spikeyolo-v8-tracker/evaluation","permalink":"/docs/spikeyolo-v8-tracker/evaluation","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Training Guide","permalink":"/docs/spikeyolo-v8-tracker/training"},"next":{"title":"Quick Start Guide","permalink":"/docs/spikeyolo-v8-tracker/quick-start"}}');var l=i(4848),t=i(8453);const a={sidebar_position:7},r="Evaluation Guide",c={},o=[{value:"Overview",id:"overview",level:2},{value:"Evaluation Script",id:"evaluation-script",level:2},{value:"Main Evaluation Script",id:"main-evaluation-script",level:3},{value:"Command-Line Arguments",id:"command-line-arguments",level:3},{value:"Evaluation Metrics",id:"evaluation-metrics",level:2},{value:"Detection Metrics",id:"detection-metrics",level:3},{value:"Tracking Metrics",id:"tracking-metrics",level:3},{value:"Evaluation Process",id:"evaluation-process",level:2},{value:"1. Model Loading",id:"1-model-loading",level:3},{value:"2. Data Loading",id:"2-data-loading",level:3},{value:"3. Inference",id:"3-inference",level:3},{value:"4. Metric Computation",id:"4-metric-computation",level:3},{value:"Logging",id:"logging",level:2},{value:"Example Evaluation Output",id:"example-evaluation-output",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Use Validation Set During Training",id:"1-use-validation-set-during-training",level:3},{value:"2. Evaluate on Test Set",id:"2-evaluate-on-test-set",level:3},{value:"3. Per-Class Analysis",id:"3-per-class-analysis",level:3},{value:"4. Temporal Analysis",id:"4-temporal-analysis",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"evaluation-guide",children:"Evaluation Guide"})}),"\n",(0,l.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsx)(n.p,{children:"SpikeYoloV8-Tracker provides comprehensive evaluation tools to assess model performance on detection and tracking tasks."}),"\n",(0,l.jsx)(n.h2,{id:"evaluation-script",children:"Evaluation Script"}),"\n",(0,l.jsx)(n.h3,{id:"main-evaluation-script",children:"Main Evaluation Script"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Location"}),": ",(0,l.jsx)(n.code,{children:"scripts/evaluation/targeted_model_evaluation.py"})]}),"\n",(0,l.jsx)(n.p,{children:"Run evaluation on a trained model:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"python scripts/evaluation/targeted_model_evaluation.py \\\n    --checkpoint_path /path/to/checkpoint.pt\n"})}),"\n",(0,l.jsx)(n.h3,{id:"command-line-arguments",children:"Command-Line Arguments"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--checkpoint_path"}),": Path to model checkpoint file (required)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--device"}),': Device to use for evaluation (default: "cuda")']}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--batch_size"}),": Batch size for evaluation (default: from config)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--output_dir"}),": Directory to save evaluation results (optional)"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"evaluation-metrics",children:"Evaluation Metrics"}),"\n",(0,l.jsx)(n.h3,{id:"detection-metrics",children:"Detection Metrics"}),"\n",(0,l.jsx)(n.p,{children:"The evaluation script computes standard object detection metrics:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"mAP (mean Average Precision)"}),": Overall detection accuracy"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"mAP@0.5"}),": mAP at IoU threshold 0.5"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"mAP@0.5:0.95"}),": mAP averaged over IoU thresholds 0.5 to 0.95"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Per-Class AP"}),": Average precision for each class"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Precision"}),": Ratio of true positives to all detections"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Recall"}),": Ratio of true positives to all ground truth objects"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"tracking-metrics",children:"Tracking Metrics"}),"\n",(0,l.jsx)(n.p,{children:"For tracking evaluation:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"MOTA (Multiple Object Tracking Accuracy)"}),": Overall tracking accuracy"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"MOTP (Multiple Object Tracking Precision)"}),": Tracking precision"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"ID Switches"}),": Number of identity switches"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Track Fragmentation"}),": Number of track fragments"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"evaluation-process",children:"Evaluation Process"}),"\n",(0,l.jsx)(n.h3,{id:"1-model-loading",children:"1. Model Loading"}),"\n",(0,l.jsx)(n.p,{children:"The evaluation script loads the trained model from checkpoint:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"checkpoint = torch.load(checkpoint_path)\nmodel.load_state_dict(checkpoint['model_state_dict'])\nmodel.eval()\n"})}),"\n",(0,l.jsx)(n.h3,{id:"2-data-loading",children:"2. Data Loading"}),"\n",(0,l.jsx)(n.p,{children:"Evaluation uses the same data loading pipeline as training:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Loads test/validation sequences"}),"\n",(0,l.jsx)(n.li,{children:"Processes events in temporal windows"}),"\n",(0,l.jsx)(n.li,{children:"Matches annotations temporally"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"3-inference",children:"3. Inference"}),"\n",(0,l.jsx)(n.p,{children:"Model runs in evaluation mode:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"No gradient computation"}),"\n",(0,l.jsx)(n.li,{children:"Batch processing"}),"\n",(0,l.jsx)(n.li,{children:"Temporal-aware predictions"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"4-metric-computation",children:"4. Metric Computation"}),"\n",(0,l.jsx)(n.p,{children:"Metrics computed on predictions vs. ground truth:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Bounding box IoU calculation"}),"\n",(0,l.jsx)(n.li,{children:"Class prediction accuracy"}),"\n",(0,l.jsx)(n.li,{children:"Tracking association accuracy"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"logging",children:"Logging"}),"\n",(0,l.jsx)(n.p,{children:"Evaluation logs are saved to:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"{model.logs_dir}/evaluation_{checkpoint_name}.log\n"})}),"\n",(0,l.jsx)(n.p,{children:"Logs include:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Evaluation progress"}),"\n",(0,l.jsx)(n.li,{children:"Per-sequence metrics"}),"\n",(0,l.jsx)(n.li,{children:"Overall metrics"}),"\n",(0,l.jsx)(n.li,{children:"Detailed statistics"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"example-evaluation-output",children:"Example Evaluation Output"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"INFO: Loading checkpoint: /path/to/checkpoint.pt\nINFO: Evaluating on test set...\nINFO: Processing sequence: test_day_0001_td.h5\nINFO: Sequence test_day_0001_td.h5:\n      mAP@0.5: 0.45\n      mAP@0.5:0.95: 0.32\n      Precision: 0.67\n      Recall: 0.58\nINFO: Overall Results:\n      mAP@0.5: 0.42\n      mAP@0.5:0.95: 0.30\n      Precision: 0.65\n      Recall: 0.55\n"})}),"\n",(0,l.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,l.jsx)(n.h3,{id:"1-use-validation-set-during-training",children:"1. Use Validation Set During Training"}),"\n",(0,l.jsx)(n.p,{children:"Monitor validation metrics during training to avoid overfitting."}),"\n",(0,l.jsx)(n.h3,{id:"2-evaluate-on-test-set",children:"2. Evaluate on Test Set"}),"\n",(0,l.jsx)(n.p,{children:"Only evaluate on test set after final model selection."}),"\n",(0,l.jsx)(n.h3,{id:"3-per-class-analysis",children:"3. Per-Class Analysis"}),"\n",(0,l.jsx)(n.p,{children:"Analyze per-class metrics to identify weak classes:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'# Check per-class AP\nfor class_name, ap in per_class_ap.items():\n    print(f"{class_name}: {ap:.3f}")\n'})}),"\n",(0,l.jsx)(n.h3,{id:"4-temporal-analysis",children:"4. Temporal Analysis"}),"\n",(0,l.jsx)(n.p,{children:"Evaluate temporal consistency:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Check tracking continuity"}),"\n",(0,l.jsx)(n.li,{children:"Analyze ID switches"}),"\n",(0,l.jsx)(n.li,{children:"Monitor track fragmentation"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Low mAP"}),": Check data quality, verify annotations"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"High False Positives"}),": Adjust confidence threshold"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Tracking Failures"}),": Check tracking features, adjust ByteTracker parameters"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Memory Issues"}),": Reduce batch size or sequence length"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"./performance",children:"Performance & Optimizations"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"./quick-start",children:"Quick Start Guide"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>r});var s=i(6540);const l={},t=s.createContext(l);function a(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);